---
    chain:
        -
            name: "fetch_service"
            ref: "core.winrm_ps_cmd"
            params:
              cmd:
                type: string
              host:
                type: string
                required: true
              user_name: 
                type: string
                required: true
              password: "{{pass}}"
                type: string
                required: true
            publish:
              exec_out: "{{fetch_service.stdout}}"
            on-success: "winRM_cmd"
            on-failure: "task2"
        -
            name: "winRM_cmd"
            ref: "core.winrm_ps_cmd"
            runner_type: winrm-ps-cmd
            enabled: true
            description: Test winRM execution function 
            params:
                cmd: "echo {{exec_out}}"
                   type: string
                user_name: "stanley"
                   type: string
                password: "{{pass}}"
                type: string
            on-success: "task1"
            on-failure: "task2"
        -
            name: "task1"
            ref: "core.local"
            params:
                cmd: "echo {{exec_out}} : Success" 
        -
            name: "task2"
            ref: "core.local"
            params:
                cmd: "echo {{ date }} :Failure"
